// On-Demand Instances
var __calcLinuxMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "c1.medium"  : 0.145,
    "c1.xlarge"  : 0.580,
    "c3.2xlarge" : 0.600,
    "c3.4xlarge" : 1.200,
    "c3.8xlarge" : 2.400,
    "c3.large"   : 0.150,
    "c3.xlarge"  : 0.300,
    "cc2.8xlarge": 2.400,
    "cg1.4xlarge": 2.100,
    "cr1.8xlarge": 3.500,
    "g2.2xlarge" : 0.650,
    "hi1.4xlarge": 3.100,
    "hs1.8xlarge": 4.600,
    "m1.large"   : 0.240,
    "m1.medium"  : 0.120,
    "m1.small"   : 0.060,
    "m1.xlarge"  : 0.480,
    "m2.2xlarge" : 0.820,
    "m2.4xlarge" : 1.640,
    "m2.xlarge"  : 0.410,
    "m3.2xlarge" : 0.900,
    "m3.xlarge"  : 0.450,
    "t1.micro"   : 0.020,
  },
  "us-west-2" : {
    "c1.medium"  : 0.145,
    "c1.xlarge"  : 0.580,
    "c3.2xlarge" : 0.600,
    "c3.4xlarge" : 1.200,
    "c3.8xlarge" : 2.400,
    "c3.large"   : 0.150,
    "c3.xlarge"  : 0.300,
    "cc2.8xlarge": 2.400,
    "cr1.8xlarge": 3.500,
    "g2.2xlarge" : 0.650,
    "hi1.4xlarge": 3.100,
    "hs1.8xlarge": 4.600,
    "m1.large"   : 0.240,
    "m1.medium"  : 0.120,
    "m1.small"   : 0.060,
    "m1.xlarge"  : 0.480,
    "m2.2xlarge" : 0.820,
    "m2.4xlarge" : 1.640,
    "m2.xlarge"  : 0.410,
    "m3.2xlarge" : 0.900,
    "m3.xlarge"  : 0.450,
    "t1.micro"   : 0.020,
  },
  "us-west-1" : {
    "c1.medium"  : 0.165,
    "c1.xlarge"  : 0.660,
    "g2.2xlarge" : 0.702,
    "m1.large"   : 0.260,
    "m1.medium"  : 0.130,
    "m1.small"   : 0.065,
    "m1.xlarge"  : 0.520,
    "m2.2xlarge" : 0.920,
    "m2.4xlarge" : 1.840,
    "m2.xlarge"  : 0.460,
    "m3.2xlarge" : 0.990,
    "m3.xlarge"  : 0.495,
    "t1.micro"   : 0.025,
  },
  "eu-west-1" : {
    "c1.medium"  : 0.165,
    "c1.xlarge"  : 0.660,
    "c3.2xlarge" : 0.683,
    "c3.4xlarge" : 1.366,
    "c3.8xlarge" : 2.732,
    "c3.large"   : 0.171,
    "c3.xlarge"  : 0.342,
    "cc2.8xlarge": 2.700,
    "cg1.4xlarge": 2.36,
    "cr1.8xlarge": 3.750,
    "g2.2xlarge" : 0.702,
    "hi1.4xlarge": 3.410,
    "hs1.8xlarge": 4.900,
    "m1.large"   : 0.260,
    "m1.medium"  : 0.130,
    "m1.small"   : 0.065,
    "m1.xlarge"  : 0.520,
    "m2.2xlarge" : 0.920,
    "m2.4xlarge" : 1.840,
    "m2.xlarge"  : 0.460,
    "m3.2xlarge" : 0.990,
    "m3.xlarge"  : 0.495,
    "t1.micro"   : 0.020,
  },
  "ap-southeast-1" : {
    "c1.medium"  : 0.183,
    "c1.xlarge"  : 0.730,
    "c3.2xlarge" : 0.756,
    "c3.4xlarge" : 1.512,
    "c3.8xlarge" : 3.024,
    "c3.large"   : 0.189,
    "c3.xlarge"  : 0.378,
    "hs1.8xlarge": 5.570,
    "m1.large"   : 0.320,
    "m1.medium"  : 0.160,
    "m1.small"   : 0.080,
    "m1.xlarge"  : 0.640,
    "m2.2xlarge" : 0.990,
    "m2.4xlarge" : 1.980,
    "m2.xlarge"  : 0.495,
    "m3.2xlarge" : 1.260,
    "m3.xlarge"  : 0.630,
    "t1.micro"   : 0.020,
  },
  "ap-northeast-1" : {
    "c1.medium"  : 0.185,
    "c1.xlarge"  : 0.740,
    "c3.2xlarge" : 0.766,
    "c3.4xlarge" : 1.532,
    "c3.8xlarge" : 3.064,
    "c3.large"   : 0.192,
    "c3.xlarge"  : 0.383,
    "cc2.8xlarge": 2.960,
    "cr1.8xlarge": 4.310,
    "hi1.4xlarge": 3.820,
    "hs1.8xlarge": 5.670,
    "m1.large"   : 0.350,
    "m1.medium"  : 0.175,
    "m1.small"   : 0.088,
    "m1.xlarge"  : 0.700,
    "m2.2xlarge" : 1.010,
    "m2.4xlarge" : 2.020,
    "m2.xlarge"  : 0.505,
    "m3.2xlarge" : 1.368,
    "m3.xlarge"  : 0.684,
    "t1.micro"   : 0.027,
  },
  "ap-southeast-2" : {
    "c1.medium"  : 0.183,
    "c1.xlarge"  : 0.730,
    "c3.2xlarge" : 0.756,
    "c3.4xlarge" : 1.512,
    "c3.8xlarge" : 3.024,
    "c3.large"   : 0.189,
    "c3.xlarge"  : 0.378,
    "hs1.8xlarge": 5.570,
    "m1.large"   : 0.320,
    "m1.medium"  : 0.160,
    "m1.small"   : 0.080,
    "m1.xlarge"  : 0.640,
    "m2.2xlarge" : 0.990,
    "m2.4xlarge" : 1.980,
    "m2.xlarge"  : 0.495,
    "m3.2xlarge" : 1.260,
    "m3.xlarge"  : 0.630,
    "t1.micro"   : 0.020,
  },
  "sa-east-1" : {
    "c1.medium"  : 0.200,
    "c1.xlarge"  : 0.800,
    "m1.large"   : 0.320,
    "m1.medium"  : 0.160,
    "m1.small"   : 0.080,
    "m1.xlarge"  : 0.640,
    "m2.2xlarge" : 1.080,
    "m2.4xlarge" : 2.160,
    "m2.xlarge"  : 0.540,
    "m3.2xlarge" : 1.224,
    "m3.xlarge"  : 0.612,
    "t1.micro"   : 0.027,
  },
};

var __calcWindowsMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "c1.medium"  : 0.225,
    "c1.xlarge"  : 0.900,
    "c3.2xlarge" : 0.932,
    "c3.4xlarge" : 1.864,
    "c3.8xlarge" : 3.728,
    "c3.large"   : 0.233,
    "c3.xlarge"  : 0.466,
    "cc2.8xlarge": 2.970,
    "cg1.4xlarge": 2.600,
    "cr1.8xlarge": 3.831,
    "g2.2xlarge" : 0.767,
    "hi1.4xlarge": 3.580,
    "hs1.8xlarge": 4.931,
    "m1.large"   : 0.364,
    "m1.medium"  : 0.182,
    "m1.small"   : 0.091,
    "m1.xlarge"  : 0.728,
    "m2.2xlarge" : 1.020,
    "m2.4xlarge" : 2.040,
    "m2.xlarge"  : 0.510,
    "m3.2xlarge" : 1.404,
    "m3.xlarge"  : 0.702,
    "t1.micro"   : 0.020,
  },
  "us-west-2" : {
    "c1.medium"  : 0.225,
    "c1.xlarge"  : 0.900,
    "c3.2xlarge" : 0.932,
    "c3.4xlarge" : 1.864,
    "c3.8xlarge" : 3.728,
    "c3.large"   : 0.233,
    "c3.xlarge"  : 0.466,
    "cc2.8xlarge": 2.970,
    "cr1.8xlarge": 3.831,
    "g2.2xlarge" : 0.767,
    "hi1.4xlarge": 3.580,
    "hs1.8xlarge": 4.931,
    "m1.large"   : 0.364,
    "m1.medium"  : 0.182,
    "m1.small"   : 0.091,
    "m1.xlarge"  : 0.728,
    "m2.2xlarge" : 1.020,
    "m2.4xlarge" : 2.040,
    "m2.xlarge"  : 0.510,
    "m3.2xlarge" : 1.404,
    "m3.xlarge"  : 0.702,
    "t1.micro"   : 0.020,
  },
  "us-west-1" : {
    "c1.medium"  : 0.245,
    "c1.xlarge"  : 0.980,
    "g2.2xlarge" : 0.819,
    "m1.large"   : 0.384,
    "m1.medium"  : 0.192,
    "m1.small"   : 0.096,
    "m1.xlarge"  : 0.768,
    "m2.2xlarge" : 1.120,
    "m2.4xlarge" : 2.240,
    "m2.xlarge"  : 0.560,
    "m3.2xlarge" : 1.494,
    "m3.xlarge"  : 0.747,
    "t1.micro"   : 0.035,
  },
  "eu-west-1" : {
    "c1.medium"  : 0.225,
    "c1.xlarge"  : 0.900,
    "c3.2xlarge" : 0.932,
    "c3.4xlarge" : 1.864,
    "c3.8xlarge" : 3.728,
    "c3.large"   : 0.233,
    "c3.xlarge"  : 0.466,
    "cc2.8xlarge": 2.970,
    "cg1.4xlarge": 2.600,
    "cr1.8xlarge": 3.831,
    "g2.2xlarge" : 0.767,
    "hi1.4xlarge": 3.580,
    "hs1.8xlarge": 4.931,
    "m1.large"   : 0.364,
    "m1.medium"  : 0.182,
    "m1.small"   : 0.091,
    "m1.xlarge"  : 0.728,
    "m2.2xlarge" : 1.020,
    "m2.4xlarge" : 2.040,
    "m2.xlarge"  : 0.510,
    "m3.2xlarge" : 1.404,
    "m3.xlarge"  : 0.702,
    "t1.micro"   : 0.035,
  },
  "ap-southeast-1" : {
    "c1.medium"  : 0.285,
    "c1.xlarge"  : 1.140,
    "c3.2xlarge" : 1.180,
    "c3.4xlarge" : 2.360,
    "c3.8xlarge" : 4.720,
    "c3.large"   : 0.295,
    "c3.xlarge"  : 0.590,
    "hs1.8xlarge": 5.901,
    "m1.large"   : 0.460,
    "m1.medium"  : 0.230,
    "m1.small"   : 0.115,
    "m1.xlarge"  : 0.920,
    "m2.2xlarge" : 1.140,
    "m2.4xlarge" : 2.280,
    "m2.xlarge"  : 0.570,
    "m3.2xlarge" : 1.764,
    "m3.xlarge"  : 0.882,
    "t1.micro"   : 0.020,
  },
  "ap-northeast-1" : {
    "c1.medium"  : 0.285,
    "c1.xlarge"  : 1.140,
    "c3.2xlarge" : 1.180,
    "c3.4xlarge" : 2.360,
    "c3.8xlarge" : 4.720,
    "c3.large"   : 0.295,
    "c3.xlarge"  : 0.590,
    "cc2.8xlarge": 3.530,
    "cr1.8xlarge": 4.641,
    "hi1.4xlarge": 4.300,
    "hs1.8xlarge": 6.000,
    "m1.large"   : 0.460,
    "m1.medium"  : 0.230,
    "m1.small"   : 0.115,
    "m1.xlarge"  : 0.920,
    "m2.2xlarge" : 1.140,
    "m2.4xlarge" : 2.280,
    "m2.xlarge"  : 0.570,
    "m3.2xlarge" : 1.764,
    "m3.xlarge"  : 0.882,
    "t1.micro"   : 0.035,
  },
  "ap-southeast-2" : {
    "c1.medium"  : 0.285,
    "c1.xlarge"  : 1.140,
    "c3.2xlarge" : 1.180,
    "c3.4xlarge" : 2.360,
    "c3.8xlarge" : 4.720,
    "c3.large"   : 0.295,
    "c3.xlarge"  : 0.590,
    "hs1.8xlarge": 5.901,
    "m1.large"   : 0.460,
    "m1.medium"  : 0.230,
    "m1.small"   : 0.115,
    "m1.xlarge"  : 0.920,
    "m2.2xlarge" : 1.140,
    "m2.4xlarge" : 2.280,
    "m2.xlarge"  : 0.570,
    "m3.2xlarge" : 1.764,
    "m3.xlarge"  : 0.882,
    "t1.micro"   : 0.020,
  },
  "sa-east-1" : {
    "c1.medium"  : 0.280,
    "c1.xlarge"  : 1.120,
    "m1.large"   : 0.444,
    "m1.medium"  : 0.222,
    "m1.small"   : 0.111,
    "m1.xlarge"  : 0.888,
    "m2.2xlarge" : 1.280,
    "m2.4xlarge" : 2.560,
    "m2.xlarge"  : 0.640,
    "m3.2xlarge" : 1.728,
    "m3.xlarge"  : 0.864,
    "t1.micro"   : 0.037,
  },
};

// Reserved Instances (Light)
var __calcLightRILinuxMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [   439,  0.254,    686,  0.201],
    "m3.2xlarge"  : [   879,  0.508,   1372,  0.401],
    "m1.small"    : [    61,  0.034,     96,  0.027],
    "m1.medium"   : [   122,  0.068,    192,  0.054],
    "m1.large"    : [   243,  0.136,    384,  0.108],
    "m1.xlarge"   : [   486,  0.271,    768,  0.215],
    "c3.large"    : [   167,  0.093,    252,  0.082],
    "c3.xlarge"   : [   333,  0.186,    503,  0.164],
    "c3.2xlarge"  : [   667,  0.373,   1006,  0.327],
    "c3.4xlarge"  : [  1333,  0.745,   2012,  0.654],
    "c3.8xlarge"  : [  2666,   1.49,   4024,  1.308],
    "c1.medium"   : [   161,   0.09,    243,  0.079],
    "c1.xlarge"   : [   644,   0.36,    972,  0.316],
    "cc2.8xlarge" : [  1762,  0.904,   2710,  0.904],
    "g2.2xlarge"  : [   772,  0.499,   1143,  0.392],
    "m2.xlarge"   : [   272,  0.169,    398,  0.136],
    "m2.2xlarge"  : [   544,  0.338,    796,  0.272],
    "m2.4xlarge"  : [  1088,  0.676,   1592,  0.544],
    "cr1.8xlarge" : [  2474,   1.54,   3846,  1.225],
    "hs1.8xlarge" : [  3968,   2.24,   5997,   1.81],
    "hi1.4xlarge" : [  2576,  1.477,   3884,   1.15],
    "t1.micro"    : [    23,  0.012,     35,  0.012],
  },
  "us-west-1" : {
    "m3.xlarge"   : [   439,   0.32,    686,  0.252],
    "m3.2xlarge"  : [   879,  0.639,   1372,  0.505],
    "m1.small"    : [    61,  0.042,     96,  0.034],
    "m1.medium"   : [   122,  0.085,    192,  0.067],
    "m1.large"    : [   243,   0.17,    384,  0.135],
    "m1.xlarge"   : [   486,  0.339,    768,  0.269],
    "c1.medium"   : [   161,  0.113,    243,  0.099],
    "c1.xlarge"   : [   644,  0.452,    972,  0.396],
    "g2.2xlarge"  : [   836,  0.541,   1238,  0.424],
    "m2.xlarge"   : [   272,  0.206,    398,  0.166],
    "m2.2xlarge"  : [   544,  0.412,    796,  0.332],
    "m2.4xlarge"  : [  1088,  0.824,   1592,  0.664],
    "t1.micro"    : [    23,  0.015,     35,  0.015],
  },
  "us-west-2" : {
    "m3.xlarge"   : [   439,  0.254,    686,  0.201],
    "m3.2xlarge"  : [   879,  0.508,   1372,  0.401],
    "m1.small"    : [    61,  0.034,     96,  0.027],
    "m1.medium"   : [   122,  0.068,    192,  0.054],
    "m1.large"    : [   243,  0.136,    384,  0.108],
    "m1.xlarge"   : [   486,  0.271,    768,  0.215],
    "c3.large"    : [   167,  0.093,    252,  0.082],
    "c3.xlarge"   : [   333,  0.186,    503,  0.164],
    "c3.2xlarge"  : [   667,  0.373,   1006,  0.327],
    "c3.4xlarge"  : [  1333,  0.745,   2012,  0.654],
    "c3.8xlarge"  : [  2666,   1.49,   4024,  1.308],
    "c1.medium"   : [   161,   0.09,    243,  0.079],
    "c1.xlarge"   : [   644,   0.36,    972,  0.316],
    "cc2.8xlarge" : [  1762,  0.904,   2710,  0.904],
    "g2.2xlarge"  : [   772,  0.499,   1143,  0.392],
    "m2.xlarge"   : [   272,  0.169,    398,  0.136],
    "m2.2xlarge"  : [   544,  0.338,    796,  0.272],
    "m2.4xlarge"  : [  1088,  0.676,   1592,  0.544],
    "cr1.8xlarge" : [  2474,   1.54,   3846,  1.225],
    "hs1.8xlarge" : [  3968,   2.24,   5997,   1.81],
    "hi1.4xlarge" : [  2576,  1.477,   3884,   1.15],
    "t1.micro"    : [    23,  0.012,     35,  0.012],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [   439,  0.318,    686,  0.252],
    "m3.2xlarge"  : [   879,  0.636,   1372,  0.503],
    "m1.small"    : [    61,  0.042,     96,  0.034],
    "m1.medium"   : [   122,  0.085,    192,  0.067],
    "m1.large"    : [   243,   0.17,    384,  0.134],
    "m1.xlarge"   : [   486,  0.339,    768,  0.268],
    "c3.large"    : [   160,  0.117,    252,  0.102],
    "c3.xlarge"   : [   321,  0.234,    503,  0.205],
    "c3.2xlarge"  : [   642,  0.468,   1006,   0.41],
    "c3.4xlarge"  : [  1283,  0.936,   2012,   0.82],
    "c3.8xlarge"  : [  2567,  1.871,   4024,  1.639],
    "c1.medium"   : [   155,  0.113,    243,  0.099],
    "c1.xlarge"   : [   620,  0.452,    972,  0.396],
    "cc2.8xlarge" : [  1762,   1.18,   2710,   1.18],
    "g2.2xlarge"  : [   836,  0.541,   1238,  0.424],
    "m2.xlarge"   : [   272,  0.206,    398,  0.166],
    "m2.2xlarge"  : [   544,  0.412,    796,  0.332],
    "m2.4xlarge"  : [  1088,  0.824,   1592,  0.664],
    "cr1.8xlarge" : [  2474,  1.988,   3846,  1.536],
    "hs1.8xlarge" : [  3968,   3.09,   5997,  2.396],
    "hi1.4xlarge" : [  2576,  2.605,   3884,  2.035],
    "t1.micro"    : [    23,  0.015,     35,  0.015],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [   497,  0.349,    764,  0.277],
    "m3.2xlarge"  : [   995,  0.697,   1528,  0.554],
    "m1.small"    : [    67,  0.047,     97,  0.037],
    "m1.medium"   : [   133,  0.093,    194,  0.075],
    "m1.large"    : [   266,  0.186,    388,  0.149],
    "m1.xlarge"   : [   532,  0.372,    776,  0.298],
    "c3.large"    : [   180,  0.126,    270,  0.111],
    "c3.xlarge"   : [   360,  0.253,    540,  0.221],
    "c3.2xlarge"  : [   720,  0.505,   1081,  0.443],
    "c3.4xlarge"  : [  1441,   1.01,   2161,  0.886],
    "c3.8xlarge"  : [  2881,   2.02,   4322,  1.772],
    "c1.medium"   : [   174,  0.122,    261,  0.107],
    "c1.xlarge"   : [   696,  0.488,   1044,  0.428],
    "m2.xlarge"   : [   282,  0.231,    423,  0.185],
    "m2.2xlarge"  : [   564,  0.462,    846,   0.37],
    "m2.4xlarge"  : [  1128,  0.924,   1692,   0.74],
    "hs1.8xlarge" : [  5144,  3.328,   7621,   2.61],
    "t1.micro"    : [    23,  0.015,     35,  0.015],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [   504,  0.385,    794,  0.305],
    "m3.2xlarge"  : [  1008,   0.77,   1588,   0.61],
    "m1.small"    : [    68,  0.052,    106,  0.041],
    "m1.medium"   : [   135,  0.103,    212,  0.082],
    "m1.large"    : [   270,  0.206,    424,  0.164],
    "m1.xlarge"   : [   540,  0.412,    848,  0.327],
    "c3.large"    : [   190,   0.14,    278,  0.122],
    "c3.xlarge"   : [   381,  0.279,    557,  0.244],
    "c3.2xlarge"  : [   762,  0.559,   1114,  0.489],
    "c3.4xlarge"  : [  1524,  1.118,   2227,  0.977],
    "c3.8xlarge"  : [  3047,  2.236,   4455,  1.954],
    "c1.medium"   : [   184,  0.135,    269,  0.118],
    "c1.xlarge"   : [   736,   0.54,   1076,  0.472],
    "cc2.8xlarge" : [  2146,  1.724,   3335,  1.332],
    "m2.xlarge"   : [   302,  0.253,    460,  0.201],
    "m2.2xlarge"  : [   604,  0.506,    920,  0.402],
    "m2.4xlarge"  : [  1208,  1.012,   1840,  0.804],
    "cr1.8xlarge" : [  2958,  2.377,   4599,  1.836],
    "hs1.8xlarge" : [  4613,  3.707,   7171,  2.863],
    "hi1.4xlarge" : [  2958,  2.377,   4599,  1.836],
    "t1.micro"    : [    24,  0.017,     37,  0.017],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [   497,  0.349,    764,  0.277],
    "m3.2xlarge"  : [   995,  0.697,   1528,  0.554],
    "m1.small"    : [    67,  0.047,     97,  0.037],
    "m1.medium"   : [   133,  0.093,    194,  0.075],
    "m1.large"    : [   266,  0.186,    388,  0.149],
    "m1.xlarge"   : [   531,  0.372,    776,  0.298],
    "c3.large"    : [   180,  0.126,    275,   0.11],
    "c3.xlarge"   : [   360,  0.253,    551,  0.219],
    "c3.2xlarge"  : [   720,  0.505,   1101,  0.439],
    "c3.4xlarge"  : [  1441,   1.01,   2202,  0.878],
    "c3.8xlarge"  : [  2881,   2.02,   4405,  1.755],
    "c1.medium"   : [   174,  0.122,    266,  0.106],
    "c1.xlarge"   : [   696,  0.488,   1064,  0.424],
    "m2.xlarge"   : [   282,  0.231,    423,  0.185],
    "m2.2xlarge"  : [   564,  0.462,    846,   0.37],
    "m2.4xlarge"  : [  1128,  0.924,   1692,   0.74],
    "hs1.8xlarge" : [  5144,  3.328,   7621,   2.61],
    "t1.micro"    : [    23,  0.015,     35,  0.015],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [   564,  0.365,    836,  0.286],
    "m3.2xlarge"  : [  1128,   0.73,   1671,  0.572],
    "m1.small"    : [    76,  0.049,    112,  0.038],
    "m1.medium"   : [   151,  0.098,    224,  0.077],
    "m1.large"    : [   302,  0.196,    448,  0.153],
    "m1.xlarge"   : [   604,  0.391,    895,  0.307],
    "c1.medium"   : [   236,  0.134,    350,  0.117],
    "c1.xlarge"   : [   944,  0.536,   1398,  0.468],
    "m2.xlarge"   : [   352,  0.228,    522,  0.179],
    "m2.2xlarge"  : [   705,  0.456,   1044,  0.358],
    "m2.4xlarge"  : [  1410,  0.912,   2088,  0.715],
    "t1.micro"    : [    31,  0.016,     47,  0.016],
  },
};

var __calcLightRIWindowsMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [   516,  0.428,    795,  0.367],
    "m3.2xlarge"  : [  1032,  0.857,   1590,  0.734],
    "m1.small"    : [    69,  0.059, 106.30,  0.051],
    "m1.medium"   : [   138,  0.118, 212.50,  0.103],
    "m1.large"    : [   276,  0.235, 425.20,  0.204],
    "m1.xlarge"   : [   552,   0.47, 850.40,  0.408],
    "c3.large"    : [   184,  0.171,    283,  0.158],
    "c3.xlarge"   : [   368,  0.342,    565,  0.317],
    "c3.2xlarge"  : [   737,  0.683,   1130,  0.633],
    "c3.4xlarge"  : [  1474,  1.366,   2260,  1.267],
    "c3.8xlarge"  : [  2948,  2.732,   4521,  2.534],
    "c1.medium"   : [   178,  0.165,    273,  0.153],
    "c1.xlarge"   : [   712,   0.66,   1092,  0.612],
    "cc2.8xlarge" : [  1762,  1.114,   2710,  1.114],
    "g2.2xlarge"  : [   925,  0.599,   1452,  0.497],
    "m2.xlarge"   : [   353,   0.29,    548,  0.245],
    "m2.2xlarge"  : [   706,   0.58,   1096,   0.49],
    "m2.4xlarge"  : [  1412,   1.16,   2192,   0.98],
    "cr1.8xlarge" : [  2474,  1.871,   3846,  1.555],
    "hs1.8xlarge" : [  3968,  2.571,   5997,  2.141],
    "hi1.4xlarge" : [  2576,  1.957,   3884,   1.63],
    "t1.micro"    : [    23,  0.014,     35,  0.012],
  },
  "us-west-1" : {
    "m3.xlarge"   : [   516,  0.503,    795,  0.427],
    "m3.2xlarge"  : [  1032,  1.006,   1590,  0.854],
    "m1.small"    : [    69,  0.069, 106.30,  0.059],
    "m1.medium"   : [   138,  0.138, 212.50,  0.118],
    "m1.large"    : [   276,  0.275, 425.20,  0.236],
    "m1.xlarge"   : [   552,   0.55, 850.40,  0.472],
    "c1.medium"   : [   178,   0.19,    273,  0.175],
    "c1.xlarge"   : [   712,   0.76,   1092,   0.70],
    "g2.2xlarge"  : [   990,   0.64,   1546,  0.529],
    "m2.xlarge"   : [   353,  0.368,    548,   0.31],
    "m2.2xlarge"  : [   706,  0.735,   1096,   0.62],
    "m2.4xlarge"  : [  1412,   1.47,   2192,   1.24],
    "t1.micro"    : [    23,  0.021,     35,  0.021],
  },
  "us-west-2" : {
    "m3.xlarge"   : [   516,  0.428,    795,  0.367],
    "m3.2xlarge"  : [  1032,  0.856,   1590,  0.735],
    "m1.small"    : [    69,  0.059, 106.30,  0.051],
    "m1.medium"   : [   138,  0.118, 212.50,  0.103],
    "m1.large"    : [   276,  0.235, 425.20,  0.204],
    "m1.xlarge"   : [   552,   0.47, 850.40,  0.408],
    "c3.large"    : [   184,  0.171,    283,  0.158],
    "c3.xlarge"   : [   368,  0.342,    565,  0.317],
    "c3.2xlarge"  : [   737,  0.683,   1130,  0.633],
    "c3.4xlarge"  : [  1474,  1.366,   2260,  1.267],
    "c3.8xlarge"  : [  2948,  2.732,   4521,  2.534],
    "c1.medium"   : [   178,  0.165,    273,  0.153],
    "c1.xlarge"   : [   712,   0.66,   1092,  0.612],
    "cc2.8xlarge" : [  1762,  1.114,   2710,  1.114],
    "g2.2xlarge"  : [   925,  0.599,   1452,  0.497],
    "m2.xlarge"   : [   353,   0.29,    548,  0.245],
    "m2.2xlarge"  : [   706,   0.58,   1096,   0.49],
    "m2.4xlarge"  : [  1412,   1.16,   2192,   0.98],
    "cr1.8xlarge" : [  2474,  1.871,   3846,  1.555],
    "hs1.8xlarge" : [  3968,  2.571,   5997,  2.141],
    "hi1.4xlarge" : [  2576,  1.957,   3884,   1.63],
    "t1.micro"    : [    23,  0.014,     35,  0.012],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [   516,  0.503,    795,  0.427],
    "m3.2xlarge"  : [  1032,  1.006,   1590,  0.854],
    "m1.small"    : [    69,  0.069, 106.30,  0.059],
    "m1.medium"   : [   138,  0.138, 212.50,  0.118],
    "m1.large"    : [   276,  0.275, 425.20,  0.236],
    "m1.xlarge"   : [   552,   0.55, 850.40,  0.472],
    "c3.large"    : [   184,  0.197,    283,  0.181],
    "c3.xlarge"   : [   368,  0.393,    565,  0.362],
    "c3.2xlarge"  : [   737,  0.787,   1130,  0.725],
    "c3.4xlarge"  : [  1474,  1.573,   2260,  1.449],
    "c3.8xlarge"  : [  2948,  3.146,   4521,  2.898],
    "c1.medium"   : [   178,   0.19,    273,  0.175],
    "c1.xlarge"   : [   712,   0.76,   1092,   0.70],
    "cc2.8xlarge" : [  1762,  1.443,   2710,  1.418],
    "g2.2xlarge"  : [   955,  0.617,   1475,  0.505],
    "m2.xlarge"   : [   353,  0.368,    548,   0.31],
    "m2.2xlarge"  : [   706,  0.735,   1096,   0.62],
    "m2.4xlarge"  : [  1412,   1.47,   2192,   1.24],
    "cr1.8xlarge" : [  2474,  2.409,   3846,   1.98],
    "hs1.8xlarge" : [  3968,  3.327,   5997,  2.733],
    "hi1.4xlarge" : [  2576,   2.52,   3884,  2.074],
    "t1.micro"    : [    23,  0.016,     35,  0.016],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [   516,  0.503,    795,  0.427],
    "m3.2xlarge"  : [  1032,  1.006,   1590,  0.854],
    "m1.small"    : [    69,  0.069, 106.30,  0.059],
    "m1.medium"   : [   138,  0.138, 212.50,  0.118],
    "m1.large"    : [   276,  0.275, 425.20,  0.236],
    "m1.xlarge"   : [   552,   0.55, 850.40,  0.472],
    "c3.large"    : [   184,  0.197,    283,  0.181],
    "c3.xlarge"   : [   368,  0.393,    565,  0.362],
    "c3.2xlarge"  : [   737,  0.787,   1130,  0.725],
    "c3.4xlarge"  : [  1474,  1.573,   2260,  1.449],
    "c3.8xlarge"  : [  2948,  3.146,   4521,  2.898],
    "c1.medium"   : [   178,   0.19,    273,  0.175],
    "c1.xlarge"   : [   712,   0.76,   1092,   0.70],
    "m2.xlarge"   : [   353,  0.368,    548,   0.31],
    "m2.2xlarge"  : [   706,  0.735,   1096,   0.62],
    "m2.4xlarge"  : [  1412,   1.47,   2192,   1.24],
    "hs1.8xlarge" : [  5996,  3.878,   8883,  3.042],
    "t1.micro"    : [    23,  0.016,     35,  0.016],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [   539,  0.561,    835,  0.479],
    "m3.2xlarge"  : [  1078,  1.121,   1669,  0.956],
    "m1.small"    : [    72,  0.076, 111.60,  0.065],
    "m1.medium"   : [   144,  0.153, 223.20,   0.13],
    "m1.large"    : [   288,  0.305, 446.40,   0.26],
    "m1.xlarge"   : [   576,   0.61, 892.80,   0.52],
    "c3.large"    : [   194,  0.215,    296,   0.20],
    "c3.xlarge"   : [   387,   0.43,    592,   0.40],
    "c3.2xlarge"  : [   774,  0.859,   1184,  0.799],
    "c3.4xlarge"  : [  1548,  1.718,   2368,  1.598],
    "c3.8xlarge"  : [  3097,  3.436,   4736,  3.196],
    "c1.medium"   : [   187,  0.208,    286,  0.193],
    "c1.xlarge"   : [   748,   0.83,   1144,  0.772],
    "cc2.8xlarge" : [  2146,  2.294,   3335,  1.902],
    "m2.xlarge"   : [   373,  0.403,    575,  0.338],
    "m2.2xlarge"  : [   746,  0.805,   1150,  0.676],
    "m2.4xlarge"  : [  1492,   1.61,   2300,  1.352],
    "cr1.8xlarge" : [  2958,  2.708,   4599,  2.167],
    "hs1.8xlarge" : [  4613,  4.038,   7171,  3.194],
    "hi1.4xlarge" : [  2958,  2.857,   4599,  2.316],
    "t1.micro"    : [    24,  0.027,     37,  0.027],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [   516,  0.503,    795,  0.427],
    "m3.2xlarge"  : [  1032,  1.006,   1590,  0.854],
    "m1.small"    : [    69,  0.069, 106.30,  0.059],
    "m1.medium"   : [   138,  0.138, 212.50,  0.118],
    "m1.large"    : [   276,  0.275, 425.20,  0.236],
    "m1.xlarge"   : [   552,   0.55, 850.40,  0.472],
    "c3.large"    : [   184,  0.197,    283,  0.181],
    "c3.xlarge"   : [   368,  0.393,    565,  0.362],
    "c3.2xlarge"  : [   737,  0.787,   1130,  0.725],
    "c3.4xlarge"  : [  1474,  1.573,   2260,  1.449],
    "c3.8xlarge"  : [  2948,  3.146,   4521,  2.898],
    "c1.medium"   : [   178,   0.19,    273,  0.175],
    "c1.xlarge"   : [   712,   0.76,   1092,   0.70],
    "m2.xlarge"   : [   353,  0.368,    548,   0.31],
    "m2.2xlarge"  : [   706,  0.735,   1096,   0.62],
    "m2.4xlarge"  : [  1412,   1.47,   2192,   1.24],
    "hs1.8xlarge" : [  5996,  3.878,   8883,  3.042],
    "t1.micro"    : [    23,  0.016,     35,  0.016],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [   984,  0.641,   1515,  0.547],
    "m3.2xlarge"  : [  1969,  1.282,   3029,  1.095],
    "m1.small"    : [131.63,   0.09,    203,  0.075],
    "m1.medium"   : [263.50,  0.175,    405,   0.15],
    "m1.large"    : [   527,   0.35,    810,   0.30],
    "m1.xlarge"   : [  1053,   0.70,   1620,   0.60],
    "c1.medium"   : [   263,   0.20,    405,  0.183],
    "c1.xlarge"   : [  1053,   0.80,   1620,  0.732],
    "m2.xlarge"   : [   749,   0.45,   1151,  0.378],
    "m2.2xlarge"  : [  1485,   0.91,   2302,  0.756],
    "m2.4xlarge"  : [  2970,   1.82,   4604,  1.512],
    "t1.micro"    : [    31,  0.022,     47,  0.022],
  },
};

// Reserved Instances (Medium)
var __calcMediumRILinuxMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [  1034,  0.156,   1631,  0.123],
    "m3.2xlarge"  : [  2069,  0.313,   3262,  0.247],
    "m1.small"    : [   139,  0.021,    215,  0.017],
    "m1.medium"   : [   277,  0.042,    430,  0.033],
    "m1.large"    : [   554,  0.084,    860,  0.067],
    "m1.xlarge"   : [  1108,  0.168,   1720,  0.133],
    "c3.large"    : [   383,  0.056,    591,  0.049],
    "c3.xlarge"   : [   766,  0.112,   1182,  0.097],
    "c3.2xlarge"  : [  1532,  0.224,   2364,  0.195],
    "c3.4xlarge"  : [  3064,  0.447,   4728,  0.389],
    "c3.8xlarge"  : [  6127,  0.894,   9456,  0.778],
    "c1.medium"   : [   370,  0.054,    571,  0.047],
    "c1.xlarge"   : [  1480,  0.216,   2284,  0.188],
    "cc2.8xlarge" : [  4146,   0.54,   6378,   0.54],
    "g2.2xlarge"  : [  1987,   0.34,   3311,  0.294],
    "m2.xlarge"   : [   651,  0.103,    992,   0.08],
    "m2.2xlarge"  : [  1302,  0.206,   1984,   0.16],
    "m2.4xlarge"  : [  2604,  0.412,   3968,   0.32],
    "cr1.8xlarge" : [  5958,   0.93,   9006,  0.735],
    "hs1.8xlarge" : [  9200,   1.38,  14103,   1.11],
    "hi1.4xlarge" : [  5973,  0.909,   9133,  0.705],
    "t1.micro"    : [    54,  0.007,     82,  0.007],
  },
  "us-west-1" : {
    "m3.xlarge"   : [  1034,  0.201,   1631,  0.162],
    "m3.2xlarge"  : [  2069,  0.403,   3262,  0.325],
    "m1.small"    : [   139,  0.027,    215,  0.022],
    "m1.medium"   : [   277,  0.054,    430,  0.044],
    "m1.large"    : [   554,  0.108,    860,  0.087],
    "m1.xlarge"   : [  1108,  0.215,   1720,  0.174],
    "c1.medium"   : [   370,  0.072,    571,  0.063],
    "c1.xlarge"   : [  1480,  0.288,   2284,  0.252],
    "g2.2xlarge"  : [  2152,  0.369,   3587,  0.319],
    "m2.xlarge"   : [   651,   0.13,    992,  0.104],
    "m2.2xlarge"  : [  1302,   0.26,   1984,  0.208],
    "m2.4xlarge"  : [  2604,   0.52,   3968,  0.416],
    "t1.micro"    : [    54,   0.01,     82,   0.01],
  },
  "us-west-2" : {
    "m3.xlarge"   : [  1034,  0.156,   1631,  0.123],
    "m3.2xlarge"  : [  2069,  0.313,   3262,  0.247],
    "m1.small"    : [   139,  0.021,    215,  0.017],
    "m1.medium"   : [   277,  0.042,    430,  0.033],
    "m1.large"    : [   554,  0.084,    860,  0.067],
    "m1.xlarge"   : [  1108,  0.168,   1720,  0.133],
    "c3.large"    : [   383,  0.056,    591,  0.049],
    "c3.xlarge"   : [   766,  0.112,   1182,  0.097],
    "c3.2xlarge"  : [  1532,  0.224,   2364,  0.195],
    "c3.4xlarge"  : [  3064,  0.447,   4728,  0.389],
    "c3.8xlarge"  : [  6127,  0.894,   9456,  0.778],
    "c1.medium"   : [   370,  0.054,    571,  0.047],
    "c1.xlarge"   : [  1480,  0.216,   2284,  0.188],
    "cc2.8xlarge" : [  4146,   0.54,   6378,   0.54],
    "g2.2xlarge"  : [  1987,   0.34,   3311,  0.294],
    "m2.xlarge"   : [   651,  0.103,    992,   0.08],
    "m2.2xlarge"  : [  1302,  0.206,   1984,   0.16],
    "m2.4xlarge"  : [  2604,  0.412,   3968,   0.32],
    "cr1.8xlarge" : [  5958,   0.93,   9006,  0.735],
    "hs1.8xlarge" : [  9200,   1.38,  14103,   1.11],
    "hi1.4xlarge" : [  5973,  0.909,   9133,  0.705],
    "t1.micro"    : [    54,  0.007,     82,  0.007],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [  1034,  0.201,   1631,  0.162],
    "m3.2xlarge"  : [  2069,  0.401,   3262,  0.323],
    "m1.small"    : [   139,  0.027,    215,  0.022],
    "m1.medium"   : [   277,  0.054,    430,  0.043],
    "m1.large"    : [   554,  0.108,    860,  0.087],
    "m1.xlarge"   : [  1108,  0.215,   1720,  0.173],
    "c3.large"    : [   383,  0.075,    591,  0.065],
    "c3.xlarge"   : [   766,  0.149,   1182,   0.13],
    "c3.2xlarge"  : [  1532,  0.298,   2364,  0.261],
    "c3.4xlarge"  : [  3064,  0.596,   4728,  0.522],
    "c3.8xlarge"  : [  6127,  1.192,   9456,  1.043],
    "c1.medium"   : [   370,  0.072,    571,  0.063],
    "c1.xlarge"   : [  1480,  0.288,   2284,  0.252],
    "cc2.8xlarge" : [  4146,   0.75,   6378,   0.75],
    "g2.2xlarge"  : [  2152,  0.369,   3587,  0.319],
    "m2.xlarge"   : [   651,   0.13,    992,  0.104],
    "m2.2xlarge"  : [  1302,   0.26,   1984,  0.208],
    "m2.4xlarge"  : [  2604,   0.52,   3968,  0.416],
    "cr1.8xlarge" : [  5958,  1.152,   9006,  1.014],
    "hs1.8xlarge" : [  9200,  1.809,  14103,  1.581],
    "hi1.4xlarge" : [  5973,  1.379,   9133,  1.022],
    "t1.micro"    : [    54,   0.01,     82,   0.01],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [  1150,  0.219,   1808,  0.177],
    "m3.2xlarge"  : [  2300,  0.439,   3616,  0.354],
    "m1.small"    : [   152,   0.03,    241,  0.024],
    "m1.medium"   : [   304,  0.059,    482,  0.047],
    "m1.large"    : [   608,  0.118,    964,  0.095],
    "m1.xlarge"   : [  1215,  0.236,   1928,  0.189],
    "c3.large"    : [   416,  0.081,    625,  0.071],
    "c3.xlarge"   : [   832,  0.161,   1250,  0.143],
    "c3.2xlarge"  : [  1664,  0.323,   2501,  0.286],
    "c3.4xlarge"  : [  3329,  0.646,   5001,  0.571],
    "c3.8xlarge"  : [  6657,  1.292,  10002,  1.143],
    "c1.medium"   : [   402,  0.078,    604,  0.069],
    "c1.xlarge"   : [  1608,  0.312,   2416,  0.276],
    "m2.xlarge"   : [   683,  0.148,   1038,  0.119],
    "m2.2xlarge"  : [  1366,  0.296,   2076,  0.238],
    "m2.4xlarge"  : [  2732,  0.592,   4152,  0.476],
    "hs1.8xlarge" : [ 13245,  2.268,  22075,   1.96],
    "t1.micro"    : [    54,   0.01,     82,   0.01],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [  1201,  0.255,   1821,  0.208],
    "m3.2xlarge"  : [  2402,   0.51,   3641,  0.417],
    "m1.small"    : [   168,  0.036, 262.50,  0.028],
    "m1.medium"   : [   322,  0.068,    482,  0.055],
    "m1.large"    : [   672,  0.136,   1050,   0.11],
    "m1.xlarge"   : [  1344,  0.288,   2100,  0.232],
    "c3.large"    : [   451,  0.091,    693,  0.083],
    "c3.xlarge"   : [   903,  0.182,   1387,  0.166],
    "c3.2xlarge"  : [  1805,  0.364,   2774,  0.331],
    "c3.4xlarge"  : [  3610,  0.729,   5548,  0.662],
    "c3.8xlarge"  : [  7220,  1.457,  11095,  1.325],
    "c1.medium"   : [   436,  0.088,    670,   0.08],
    "c1.xlarge"   : [  1744,  0.352,   2680,   0.32],
    "cc2.8xlarge" : [  5168,  0.999,   7812,   0.88],
    "m2.xlarge"   : [   711,  0.165,   1079,   0.13],
    "m2.2xlarge"  : [  1422,   0.33,   2158,   0.26],
    "m2.4xlarge"  : [  2844,   0.66,   4316,   0.52],
    "cr1.8xlarge" : [  7125,  1.377,  10770,  1.213],
    "hs1.8xlarge" : [ 11111,  2.148,  16796,  1.892],
    "hi1.4xlarge" : [  7125,  1.377,  10770,  1.213],
    "t1.micro"    : [    57,  0.011,     86,  0.011],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [  1150,  0.219,   1808,  0.177],
    "m3.2xlarge"  : [  2300,  0.439,   3616,  0.354],
    "m1.small"    : [   152,   0.03,    241,  0.024],
    "m1.medium"   : [   304,  0.059,    482,  0.047],
    "m1.large"    : [   608,  0.118,    964,  0.095],
    "m1.xlarge"   : [  1215,  0.236,   1928,  0.189],
    "c3.large"    : [   701,  0.081,    651,   0.07],
    "c3.xlarge"   : [  1401,  0.161,   1302,  0.141],
    "c3.2xlarge"  : [  2803,  0.323,   2604,  0.282],
    "c3.4xlarge"  : [  5606,  0.646,   5208,  0.563],
    "c3.8xlarge"  : [ 11211,  1.292,  10416,  1.126],
    "c1.medium"   : [   677,  0.078,    629,  0.068],
    "c1.xlarge"   : [  2708,  0.312,   2516,  0.272],
    "m2.xlarge"   : [   683,  0.148,   1038,  0.119],
    "m2.2xlarge"  : [  1366,  0.296,   2076,  0.238],
    "m2.4xlarge"  : [  2732,  0.592,   4152,  0.476],
    "hs1.8xlarge" : [ 13245,  2.268,  22075,   1.96],
    "t1.micro"    : [    54,   0.01,     82,   0.01],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [  1453,  0.249,   2421,  0.215],
    "m3.2xlarge"  : [  2904,  0.497,   4841,   0.43],
    "m1.small"    : [   195,  0.033,    324,  0.018],
    "m1.medium"   : [   389,  0.067,    648,  0.036],
    "m1.large"    : [   778,  0.133,   1297,  0.072],
    "m1.xlarge"   : [  1556,  0.267,   2594,  0.143],
    "c1.medium"   : [   608,   0.08,   1003,  0.068],
    "c1.xlarge"   : [  2430,   0.32,   4012,  0.272],
    "m2.xlarge"   : [   907,  0.155,   1512,  0.134],
    "m2.2xlarge"  : [  1815,  0.311,   3024,  0.269],
    "m2.4xlarge"  : [  3629,  0.621,   6049,  0.537],
    "t1.micro"    : [    73,  0.009,    111,  0.009],
  },
};

var __calcMediumRIWindowsMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [  1197,  0.315,   1870,  0.278],
    "m3.2xlarge"  : [  2394,  0.631,   3740,  0.556],
    "m1.small"    : [   160,  0.044,    250,  0.039],
    "m1.medium"   : [   320,  0.088,    500,  0.078],
    "m1.large"    : [   640,  0.175,   1000,  0.156],
    "m1.xlarge"   : [  1280,   0.35,   2000,  0.312],
    "c3.large"    : [   430,  0.129,    660,  0.122],
    "c3.xlarge"   : [   859,  0.259,   1321,  0.244],
    "c3.2xlarge"  : [  1718,  0.518,   2641,  0.489],
    "c3.4xlarge"  : [  3436,  1.035,   5283,  0.977],
    "c3.8xlarge"  : [  6872,   2.07,  10565,  1.954],
    "c1.medium"   : [   415,  0.125,    638,  0.118],
    "c1.xlarge"   : [  1660,   0.50,   2552,  0.472],
    "cc2.8xlarge" : [  4146,   0.75,   6378,   0.75],
    "g2.2xlarge"  : [  2396,   0.41,   4234,  0.376],
    "m2.xlarge"   : [   850,  0.203,   1283,  0.175],
    "m2.2xlarge"  : [  1700,  0.405,   2566,   0.35],
    "m2.4xlarge"  : [  3400,   0.81,   5132,   0.70],
    "cr1.8xlarge" : [  5958,  1.261,   9006,  1.066],
    "hs1.8xlarge" : [  9200,  1.711,  14103,  1.441],
    "hi1.4xlarge" : [  5973,  1.389,   9133,  1.185],
    "t1.micro"    : [    54,  0.009,     82,  0.009],
  },
  "us-west-1" : {
    "m3.xlarge"   : [  1197,  0.367,   1870,  0.323],
    "m3.2xlarge"  : [  2394,  0.735,   3740,  0.647],
    "m1.small"    : [   160,  0.051,    250,  0.045],
    "m1.medium"   : [   320,  0.103,    500,   0.09],
    "m1.large"    : [   640,  0.205,   1000,   0.18],
    "m1.xlarge"   : [  1280,   0.41,   2000,   0.36],
    "c1.medium"   : [   415,  0.145,    638,  0.135],
    "c1.xlarge"   : [  1660,   0.58,   2552,   0.54],
    "g2.2xlarge"  : [  2564,  0.439,   4514,  0.401],
    "m2.xlarge"   : [   850,  0.265,   1283,  0.228],
    "m2.2xlarge"  : [  1700,   0.53,   2566,  0.456],
    "m2.4xlarge"  : [  3400,   1.06,   5132,  0.912],
    "t1.micro"    : [    54,  0.016,     82,  0.016],
  },
  "us-west-2" : {
    "m3.xlarge"   : [  1197,  0.315,   1870,  0.278],
    "m3.2xlarge"  : [  2394,  0.632,   3740,  0.557],
    "m1.small"    : [   160,  0.044,    250,  0.039],
    "m1.medium"   : [   320,  0.088,    500,  0.078],
    "m1.large"    : [   640,  0.175,   1000,  0.156],
    "m1.xlarge"   : [  1280,   0.35,   2000,  0.312],
    "c3.large"    : [   430,  0.129,    660,  0.122],
    "c3.xlarge"   : [   859,  0.259,   1321,  0.244],
    "c3.2xlarge"  : [  1718,  0.518,   2641,  0.489],
    "c3.4xlarge"  : [  3436,  1.035,   5283,  0.977],
    "c3.8xlarge"  : [  6872,   2.07,  10565,  1.954],
    "c1.medium"   : [   415,  0.125,    638,  0.118],
    "c1.xlarge"   : [  1660,   0.50,   2552,  0.472],
    "cc2.8xlarge" : [  4146,   0.75,   6378,   0.75],
    "g2.2xlarge"  : [  2396,   0.41,   4234,  0.376],
    "m2.xlarge"   : [   850,  0.203,   1283,  0.175],
    "m2.2xlarge"  : [  1700,  0.405,   2566,   0.35],
    "m2.4xlarge"  : [  3400,   0.81,   5132,   0.70],
    "cr1.8xlarge" : [  5958,  1.261,   9006,  1.066],
    "hs1.8xlarge" : [  9200,  1.711,  14103,  1.441],
    "hi1.4xlarge" : [  5973,  1.389,   9133,  1.185],
    "t1.micro"    : [    54,  0.009,     82,  0.009],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [  1197,  0.367,   1870,  0.323],
    "m3.2xlarge"  : [  2394,  0.735,   3740,  0.647],
    "m1.small"    : [   160,  0.051,    250,  0.045],
    "m1.medium"   : [   320,  0.103,    500,   0.09],
    "m1.large"    : [   640,  0.205,   1000,   0.18],
    "m1.xlarge"   : [  1280,   0.41,   2000,   0.36],
    "c3.large"    : [   430,   0.15,    660,   0.14],
    "c3.xlarge"   : [   859,   0.30,   1321,  0.279],
    "c3.2xlarge"  : [  1718,   0.60,   2641,  0.559],
    "c3.4xlarge"  : [  3436,  1.201,   5283,  1.118],
    "c3.8xlarge"  : [  6872,  2.401,  10565,  2.236],
    "c1.medium"   : [   415,  0.145,    638,  0.135],
    "c1.xlarge"   : [  1660,   0.58,   2552,   0.54],
    "cc2.8xlarge" : [  4146,  1.056,   6378,  0.998],
    "g2.2xlarge"  : [  2469,  0.423,   4301,  0.382],
    "m2.xlarge"   : [   850,  0.265,   1283,  0.228],
    "m2.2xlarge"  : [  1700,   0.53,   2566,  0.456],
    "m2.4xlarge"  : [  3400,   1.06,   5132,  0.912],
    "cr1.8xlarge" : [  5958,  1.746,   9006,  1.418],
    "hs1.8xlarge" : [  9200,  2.401,  14103,  1.935],
    "hi1.4xlarge" : [  5973,  1.907,   9133,  1.568],
    "t1.micro"    : [    54,  0.012,     82,  0.012],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [  1197,  0.367,   1870,  0.323],
    "m3.2xlarge"  : [  2394,  0.735,   3740,  0.647],
    "m1.small"    : [   160,  0.051,    250,  0.045],
    "m1.medium"   : [   320,  0.103,    500,   0.09],
    "m1.large"    : [   640,  0.205,   1000,   0.18],
    "m1.xlarge"   : [  1280,   0.41,   2000,   0.36],
    "c3.large"    : [   430,   0.15,    660,   0.14],
    "c3.xlarge"   : [   859,   0.30,   1321,  0.279],
    "c3.2xlarge"  : [  1718,   0.60,   2641,  0.559],
    "c3.4xlarge"  : [  3436,  1.201,   5283,  1.118],
    "c3.8xlarge"  : [  6872,  2.401,  10565,  2.236],
    "c1.medium"   : [   415,  0.145,    638,  0.135],
    "c1.xlarge"   : [  1660,   0.58,   2552,   0.54],
    "m2.xlarge"   : [   850,  0.265,   1283,  0.228],
    "m2.2xlarge"  : [  1700,   0.53,   2566,  0.456],
    "m2.4xlarge"  : [  3400,   1.06,   5132,  0.912],
    "hs1.8xlarge" : [ 15437,  2.643,  25729,  2.284],
    "t1.micro"    : [    54,  0.012,     82,  0.012],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [  1256,  0.425,   1964,  0.373],
    "m3.2xlarge"  : [  2513,  0.851,   3927,  0.746],
    "m1.small"    : [   168,  0.058, 262.50,   0.05],
    "m1.medium"   : [   336,  0.115,    525,   0.10],
    "m1.large"    : [   672,   0.23,   1050,   0.20],
    "m1.xlarge"   : [  1344,   0.46,   2100,   0.40],
    "c3.large"    : [   451,  0.166,    693,  0.155],
    "c3.xlarge"   : [   903,  0.331,   1387,  0.311],
    "c3.2xlarge"  : [  1805,  0.662,   2774,  0.621],
    "c3.4xlarge"  : [  3610,  1.325,   5548,  1.242],
    "c3.8xlarge"  : [  7220,   2.65,  11095,  2.484],
    "c1.medium"   : [   436,   0.16,    670,   0.15],
    "c1.xlarge"   : [  1744,   0.64,   2680,   0.60],
    "cc2.8xlarge" : [  5168,  1.569,   7812,   1.45],
    "m2.xlarge"   : [   893,   0.29,   1347,  0.248],
    "m2.2xlarge"  : [  1786,   0.58,   2694,  0.496],
    "m2.4xlarge"  : [  3572,   1.16,   5388,  0.992],
    "cr1.8xlarge" : [  7125,  1.708,  10770,  1.544],
    "hs1.8xlarge" : [ 11111,  2.479,  16796,  2.223],
    "hi1.4xlarge" : [  7125,  1.857,  10770,  1.693],
    "t1.micro"    : [    57,  0.021,     86,  0.021],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [  1197,  0.367,   1870,  0.323],
    "m3.2xlarge"  : [  2394,  0.735,   3740,  0.647],
    "m1.small"    : [   160,  0.051,    250,  0.045],
    "m1.medium"   : [   320,  0.103,    500,   0.09],
    "m1.large"    : [   640,  0.205,   1000,   0.18],
    "m1.xlarge"   : [  1280,   0.41,   2000,   0.36],
    "c3.large"    : [   430,   0.15,    660,   0.14],
    "c3.xlarge"   : [   859,   0.30,   1321,  0.279],
    "c3.2xlarge"  : [  1718,   0.60,   2641,  0.559],
    "c3.4xlarge"  : [  3436,  1.201,   5283,  1.118],
    "c3.8xlarge"  : [  6872,  2.401,  10565,  2.236],
    "c1.medium"   : [   415,  0.145,    638,  0.135],
    "c1.xlarge"   : [  1660,   0.58,   2552,   0.54],
    "m2.xlarge"   : [   850,  0.265,   1283,  0.228],
    "m2.2xlarge"  : [  1700,   0.53,   2566,  0.456],
    "m2.4xlarge"  : [  3400,   1.06,   5132,  0.912],
    "hs1.8xlarge" : [ 15437,  2.643,  25729,  2.284],
    "t1.micro"    : [    54,  0.012,     82,  0.012],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [  2298,  0.434,   3534,  0.368],
    "m3.2xlarge"  : [  4595,   0.87,   7069,  0.736],
    "m1.small"    : [307.13,   0.06,    473,  0.051],
    "m1.medium"   : [614.50,   0.12,    945,  0.103],
    "m1.large"    : [  1229,   0.24,   1890,  0.204],
    "m1.xlarge"   : [  2457,   0.48,   3780,  0.408],
    "c1.medium"   : [   614,   0.15,    945,  0.135],
    "c1.xlarge"   : [  2457,   0.58,   3780,   0.54],
    "m2.xlarge"   : [  1789,   0.30,   2700,  0.253],
    "m2.2xlarge"  : [  3578,   0.60,   5400,  0.506],
    "m2.4xlarge"  : [  7155,   1.20,  10800,  1.012],
    "t1.micro"    : [    73,  0.015,    111,  0.015],
  },
};

// Reserved Instances (Heavy)
var __calcHeavyRILinuxMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [  1266,  0.105,   1922,  0.086],
    "m3.2xlarge"  : [  2531,  0.209,   3844,  0.172],
    "m1.small"    : [   169,  0.014,    257,  0.012],
    "m1.medium"   : [   338,  0.028,    514,  0.023],
    "m1.large"    : [   676,  0.056,   1028,  0.046],
    "m1.xlarge"   : [  1352,  0.112,   2056,  0.092],
    "c3.large"    : [   466,  0.037,    726,  0.032],
    "c3.xlarge"   : [   932,  0.075,   1451,  0.064],
    "c3.2xlarge"  : [  1863,  0.149,   2902,  0.128],
    "c3.4xlarge"  : [  3726,  0.298,   5804,  0.257],
    "c3.8xlarge"  : [  7452,  0.596,  11609,  0.513],
    "c1.medium"   : [   450,  0.036,    701,  0.031],
    "c1.xlarge"   : [  1800,  0.144,   2804,  0.124],
    "cc2.8xlarge" : [  5000,  0.361,   7670,  0.361],
    "g2.2xlarge"  : [  2129,  0.162,   3942,   0.15],
    "m2.xlarge"   : [   789,  0.068,   1198,  0.053],
    "m2.2xlarge"  : [  1578,  0.136,   2396,  0.106],
    "m2.4xlarge"  : [  3156,  0.272,   4792,  0.212],
    "cr1.8xlarge" : [  7220,   0.62,  10880,   0.49],
    "hs1.8xlarge" : [ 11213,   0.92,  16924,   0.76],
    "hi1.4xlarge" : [  7280,  0.621,  10960,  0.482],
    "t1.micro"    : [    62,  0.005,    100,  0.005],
  },
  "us-west-1" : {
    "m3.xlarge"   : [  1266,  0.162,   1922,  0.131],
    "m3.2xlarge"  : [  2531,  0.325,   3844,  0.262],
    "m1.small"    : [   169,  0.022,    257,  0.018],
    "m1.medium"   : [   338,  0.044,    514,  0.035],
    "m1.large"    : [   676,  0.087,   1028,   0.07],
    "m1.xlarge"   : [  1352,  0.174,   2056,   0.14],
    "c1.medium"   : [   450,  0.057,    701,  0.049],
    "c1.xlarge"   : [  1800,  0.228,   2804,  0.196],
    "g2.2xlarge"  : [  2306,  0.176,   4271,  0.162],
    "m2.xlarge"   : [   789,  0.102,   1198,  0.082],
    "m2.2xlarge"  : [  1578,  0.204,   2396,  0.164],
    "m2.4xlarge"  : [  3156,  0.408,   4792,  0.328],
    "t1.micro"    : [    62,  0.008,    100,  0.008],
  },
  "us-west-2" : {
    "m3.xlarge"   : [  1266,  0.105,   1922,  0.086],
    "m3.2xlarge"  : [  2531,  0.209,   3844,  0.172],
    "m1.small"    : [   169,  0.014,    257,  0.012],
    "m1.medium"   : [   338,  0.028,    514,  0.023],
    "m1.large"    : [   676,  0.056,   1028,  0.046],
    "m1.xlarge"   : [  1352,  0.112,   2056,  0.092],
    "c3.large"    : [   466,  0.037,    726,  0.032],
    "c3.xlarge"   : [   932,  0.075,   1451,  0.064],
    "c3.2xlarge"  : [  1863,  0.149,   2902,  0.128],
    "c3.4xlarge"  : [  3726,  0.298,   5804,  0.257],
    "c3.8xlarge"  : [  7452,  0.596,  11609,  0.513],
    "c1.medium"   : [   450,  0.036,    701,  0.031],
    "c1.xlarge"   : [  1800,  0.144,   2804,  0.124],
    "cc2.8xlarge" : [  5000,  0.361,   7670,  0.361],
    "g2.2xlarge"  : [  2129,  0.162,   3942,   0.15],
    "m2.xlarge"   : [   789,  0.068,   1198,  0.053],
    "m2.2xlarge"  : [  1578,  0.136,   2396,  0.106],
    "m2.4xlarge"  : [  3156,  0.272,   4792,  0.212],
    "cr1.8xlarge" : [  7220,   0.62,  10880,   0.49],
    "hs1.8xlarge" : [ 11213,   0.92,  16924,   0.76],
    "hi1.4xlarge" : [  7280,  0.621,  10960,  0.482],
    "t1.micro"    : [    62,  0.005,    100,  0.005],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [  1266,  0.161,   1922,   0.13],
    "m3.2xlarge"  : [  2531,  0.321,   3844,   0.26],
    "m1.small"    : [   169,  0.022,    257,  0.018],
    "m1.medium"   : [   338,  0.044,    514,  0.035],
    "m1.large"    : [   676,  0.087,   1028,   0.07],
    "m1.xlarge"   : [  1352,  0.174,   2056,   0.14],
    "c3.large"    : [   466,  0.059,    726,  0.051],
    "c3.xlarge"   : [   932,  0.118,   1451,  0.101],
    "c3.2xlarge"  : [  1863,  0.236,   2902,  0.203],
    "c3.4xlarge"  : [  3726,  0.472,   5804,  0.406],
    "c3.8xlarge"  : [  7452,  0.944,  11609,  0.811],
    "c1.medium"   : [   450,  0.057,    701,  0.049],
    "c1.xlarge"   : [  1800,  0.228,   2804,  0.196],
    "cc2.8xlarge" : [  5000,   0.61,   7670,   0.61],
    "g2.2xlarge"  : [  2306,  0.176,   4271,  0.162],
    "m2.xlarge"   : [   789,  0.102,   1198,  0.083],
    "m2.2xlarge"  : [  1578,  0.204,   2396,  0.166],
    "m2.4xlarge"  : [  3156,  0.408,   4792,  0.332],
    "cr1.8xlarge" : [  7220,  0.742,  10880,  0.746],
    "hs1.8xlarge" : [ 11213,  1.163,  16924,  1.166],
    "hi1.4xlarge" : [  7280,  0.931,  10960,  0.742],
    "t1.micro"    : [    62,  0.008,    100,  0.008],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [  1401,  0.177,   2115,  0.143],
    "m3.2xlarge"  : [  2802,  0.354,   4230,  0.286],
    "m1.small"    : [   185,  0.024,    290,  0.019],
    "m1.medium"   : [   370,  0.048,    580,  0.038],
    "m1.large"    : [   739,  0.095,   1160,  0.076],
    "m1.xlarge"   : [  1478,   0.19,   2320,  0.151],
    "c3.large"    : [   509,  0.063,    769,  0.056],
    "c3.xlarge"   : [  1018,  0.126,   1538,  0.112],
    "c3.2xlarge"  : [  2037,  0.253,   3076,  0.224],
    "c3.4xlarge"  : [  4074,  0.505,   6152,  0.447],
    "c3.8xlarge"  : [  8148,   1.01,  12304,  0.894],
    "c1.medium"   : [   492,  0.061,    743,  0.054],
    "c1.xlarge"   : [  1968,  0.244,   2972,  0.216],
    "m2.xlarge"   : [   821,  0.119,   1231,  0.095],
    "m2.2xlarge"  : [  1642,  0.238,   2462,   0.19],
    "m2.4xlarge"  : [  3284,  0.476,   4924,   0.38],
    "hs1.8xlarge" : [ 14191,   1.08,  26280,   1.00],
    "t1.micro"    : [    62,  0.008,    100,  0.008],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [  1460,  0.184,   2250,  0.149],
    "m3.2xlarge"  : [  2921,  0.369,   4500,  0.298],
    "m1.small"    : [   194,  0.025,    297,   0.02],
    "m1.medium"   : [   387,   0.05,    594,   0.04],
    "m1.large"    : [   774,   0.10,   1188,  0.081],
    "m1.xlarge"   : [  1548,  0.199,   2376,  0.161],
    "c3.large"    : [   535,   0.07,    823,  0.061],
    "c3.xlarge"   : [  1070,  0.141,   1646,  0.122],
    "c3.2xlarge"  : [  2140,  0.282,   3291,  0.244],
    "c3.4xlarge"  : [  4281,  0.563,   6583,  0.489],
    "c3.8xlarge"  : [  8562,  1.126,  13165,  0.977],
    "c1.medium"   : [   517,  0.068,    795,  0.059],
    "c1.xlarge"   : [  2068,  0.272,   3180,  0.236],
    "cc2.8xlarge" : [  6261,  0.643,   9436,  0.647],
    "m2.xlarge"   : [   865,  0.128,   1278,  0.103],
    "m2.2xlarge"  : [  1730,  0.256,   2556,  0.206],
    "m2.4xlarge"  : [  3460,  0.512,   5112,  0.412],
    "cr1.8xlarge" : [  8633,  0.887,  13009,  0.892],
    "hs1.8xlarge" : [ 13463,  1.383,  20287,  1.391],
    "hi1.4xlarge" : [  8633,  0.887,  13009,  0.892],
    "t1.micro"    : [    65,  0.009,    105,  0.009],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [  1401,  0.177,   2115,  0.143],
    "m3.2xlarge"  : [  2802,  0.354,   4230,  0.286],
    "m1.small"    : [   185,  0.024,    290,  0.019],
    "m1.medium"   : [   370,  0.048,    580,  0.038],
    "m1.large"    : [   739,  0.095,   1160,  0.076],
    "m1.xlarge"   : [  1478,   0.19,   2320,  0.151],
    "c3.large"    : [   509,  0.063,    769,  0.056],
    "c3.xlarge"   : [  1018,  0.126,   1538,  0.112],
    "c3.2xlarge"  : [  2037,  0.253,   3076,  0.224],
    "c3.4xlarge"  : [  4074,  0.505,   6152,  0.447],
    "c3.8xlarge"  : [  8148,   1.01,  12304,  0.894],
    "c1.medium"   : [   492,  0.061,    743,  0.054],
    "c1.xlarge"   : [  1968,  0.244,   2972,  0.216],
    "m2.xlarge"   : [   821,  0.119,   1231,  0.095],
    "m2.2xlarge"  : [  1642,  0.238,   2462,   0.19],
    "m2.4xlarge"  : [  3284,  0.476,   4924,   0.38],
    "hs1.8xlarge" : [ 14191,   1.08,  26280,   1.00],
    "t1.micro"    : [    62,  0.008,    100,  0.008],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [  1556,  0.118,   2593,  0.121],
    "m3.2xlarge"  : [  3112,  0.237,   5187,  0.241],
    "m1.small"    : [   208,  0.016,    347,  0.016],
    "m1.medium"   : [   417,  0.032,    695,  0.032],
    "m1.large"    : [   834,  0.063,   1390,  0.065],
    "m1.xlarge"   : [  1667,  0.127,   2779,  0.129],
    "c1.medium"   : [   651,   0.05,   1085,  0.049],
    "c1.xlarge"   : [  2604,  0.198,   4340,  0.196],
    "m2.xlarge"   : [   972,  0.074,   1620,  0.075],
    "m2.2xlarge"  : [  1944,  0.148,   3240,  0.151],
    "m2.4xlarge"  : [  3888,  0.296,   6481,  0.301],
    "t1.micro"    : [    84,  0.007,    135,  0.007],
  },
};

var __calcHeavyRIWindowsMonthlyAmount__rateSheets = {
  "us-east-1" : {
    "m3.xlarge"   : [  1459,  0.256,   2244,  0.234],
    "m3.2xlarge"  : [  2917,  0.512,   4488,  0.468],
    "m1.small"    : [   195,  0.036,    300,  0.033],
    "m1.medium"   : [   390,  0.073,    600,  0.066],
    "m1.large"    : [   780,  0.145,   1200,  0.132],
    "m1.xlarge"   : [  1560,   0.29,   2400,  0.264],
    "c3.large"    : [   518,  0.109,    802,  0.104],
    "c3.xlarge"   : [  1035,  0.217,   1604,  0.207],
    "c3.2xlarge"  : [  2070,  0.435,   3209,  0.414],
    "c3.4xlarge"  : [  4140,  0.869,   6417,  0.828],
    "c3.8xlarge"  : [  8280,  1.739,  12834,  1.656],
    "c1.medium"   : [   500,  0.105,    775,   0.10],
    "c1.xlarge"   : [  2000,   0.42,   3100,   0.40],
    "cc2.8xlarge" : [  5000,  0.571,   7670,  0.571],
    "g2.2xlarge"  : [  2744,  0.209,   5479,  0.209],
    "m2.xlarge"   : [  1030,  0.158,   1550,   0.14],
    "m2.2xlarge"  : [  2060,  0.315,   3100,   0.28],
    "m2.4xlarge"  : [  4120,   0.63,   6200,   0.56],
    "cr1.8xlarge" : [  7220,  0.951,  10880,  0.821],
    "hs1.8xlarge" : [ 11213,  1.251,  16924,  1.091],
    "hi1.4xlarge" : [  7280,  1.101,  10960,  0.962],
    "t1.micro"    : [    62,  0.006,    100,  0.007],
  },
  "us-west-1" : {
    "m3.xlarge"   : [  1459,  0.323,   2244,  0.286],
    "m3.2xlarge"  : [  2917,  0.646,   4488,   0.57],
    "m1.small"    : [   195,  0.045,    300,   0.04],
    "m1.medium"   : [   390,   0.09,    600,   0.08],
    "m1.large"    : [   780,   0.18,   1200,   0.16],
    "m1.xlarge"   : [  1560,   0.36,   2400,   0.32],
    "c1.medium"   : [   500,  0.128,    775,   0.12],
    "c1.xlarge"   : [  2000,   0.51,   3100,   0.48],
    "g2.2xlarge"  : [  2924,  0.222,   5802,  0.221],
    "m2.xlarge"   : [  1030,  0.228,   1550,  0.198],
    "m2.2xlarge"  : [  2060,  0.455,   3100,  0.396],
    "m2.4xlarge"  : [  4120,   0.91,   6200,  0.792],
    "t1.micro"    : [    62,  0.014,    100,  0.014],
  },
  "us-west-2" : {
    "m3.xlarge"   : [  1459,  0.256,   2244,  0.234],
    "m3.2xlarge"  : [  2917,  0.512,   4488,  0.467],
    "m1.small"    : [   195,  0.036,    300,  0.033],
    "m1.medium"   : [   390,  0.073,    600,  0.066],
    "m1.large"    : [   780,  0.145,   1200,  0.132],
    "m1.xlarge"   : [  1560,   0.29,   2400,  0.264],
    "c3.large"    : [   518,  0.109,    802,  0.104],
    "c3.xlarge"   : [  1035,  0.217,   1604,  0.207],
    "c3.2xlarge"  : [  2070,  0.435,   3209,  0.414],
    "c3.4xlarge"  : [  4140,  0.869,   6417,  0.828],
    "c3.8xlarge"  : [  8280,  1.739,  12834,  1.656],
    "c1.medium"   : [   500,  0.105,    775,   0.10],
    "c1.xlarge"   : [  2000,   0.42,   3100,   0.40],
    "cc2.8xlarge" : [  5000,  0.571,   7670,  0.571],
    "g2.2xlarge"  : [  2744,  0.209,   5479,  0.209],
    "m2.xlarge"   : [  1030,  0.158,   1550,   0.14],
    "m2.2xlarge"  : [  2060,  0.315,   3100,   0.28],
    "m2.4xlarge"  : [  4120,   0.63,   6200,   0.56],
    "cr1.8xlarge" : [  7220,  0.951,  10880,  0.821],
    "hs1.8xlarge" : [ 11213,  1.251,  16924,  1.091],
    "hi1.4xlarge" : [  7280,  1.101,  10960,  0.962],
    "t1.micro"    : [    62,  0.006,    100,  0.007],
  },
  "eu-west-1" : {
    "m3.xlarge"   : [  1459,  0.323,   2244,  0.286],
    "m3.2xlarge"  : [  2917,  0.646,   4488,   0.57],
    "m1.small"    : [   195,  0.045,    300,   0.04],
    "m1.medium"   : [   390,   0.09,    600,   0.08],
    "m1.large"    : [   780,   0.18,   1200,   0.16],
    "m1.xlarge"   : [  1560,   0.36,   2400,   0.32],
    "c3.large"    : [   518,  0.132,    802,  0.124],
    "c3.xlarge"   : [  1035,  0.264,   1604,  0.248],
    "c3.2xlarge"  : [  2070,  0.528,   3209,  0.497],
    "c3.4xlarge"  : [  4140,  1.056,   6417,  0.994],
    "c3.8xlarge"  : [  8280,  2.111,  12834,  1.987],
    "c1.medium"   : [   500,  0.128,    775,   0.12],
    "c1.xlarge"   : [  2000,   0.51,   3100,   0.48],
    "cc2.8xlarge" : [  5000,  0.855,   7670,  0.785],
    "g2.2xlarge"  : [  2782,  0.212,   5447,  0.207],
    "m2.xlarge"   : [  1030,  0.228,   1550,  0.198],
    "m2.2xlarge"  : [  2060,  0.455,   3100,  0.396],
    "m2.4xlarge"  : [  4120,   0.91,   6200,  0.792],
    "cr1.8xlarge" : [  7220,  1.395,  10880,   1.13],
    "hs1.8xlarge" : [ 11213,  1.883,  16924,  1.524],
    "hi1.4xlarge" : [  7280,  1.585,  10960,  1.307],
    "t1.micro"    : [    62,  0.009,    100,  0.009],
  },
  "ap-southeast-1" : {
    "m3.xlarge"   : [  1459,  0.323,   2244,  0.286],
    "m3.2xlarge"  : [  2917,  0.646,   4488,   0.57],
    "m1.small"    : [   195,  0.045,    300,   0.04],
    "m1.medium"   : [   390,   0.09,    600,   0.08],
    "m1.large"    : [   780,   0.18,   1200,   0.16],
    "m1.xlarge"   : [  1560,   0.36,   2400,   0.32],
    "c3.large"    : [   518,  0.132,    802,  0.124],
    "c3.xlarge"   : [  1035,  0.264,   1604,  0.248],
    "c3.2xlarge"  : [  2070,  0.528,   3209,  0.497],
    "c3.4xlarge"  : [  4140,  1.056,   6417,  0.994],
    "c3.8xlarge"  : [  8280,  2.111,  12834,  1.987],
    "c1.medium"   : [   500,  0.128,    775,   0.12],
    "c1.xlarge"   : [  2000,   0.51,   3100,   0.48],
    "m2.xlarge"   : [  1030,  0.228,   1550,  0.198],
    "m2.2xlarge"  : [  2060,  0.455,   3100,  0.396],
    "m2.4xlarge"  : [  4120,   0.91,   6200,  0.792],
    "hs1.8xlarge" : [ 16540,  1.259,  30629,  1.166],
    "t1.micro"    : [    62,  0.009,    100,  0.009],
  },
  "ap-northeast-1" : {
    "m3.xlarge"   : [  1533,  0.351,   2356,  0.314],
    "m3.2xlarge"  : [  3067,  0.702,   4712,  0.626],
    "m1.small"    : [   205,  0.049,    315,  0.044],
    "m1.medium"   : [   410,  0.098,    630,  0.088],
    "m1.large"    : [   820,  0.195,   1260,  0.176],
    "m1.xlarge"   : [  1640,   0.39,   2520,  0.352],
    "c3.large"    : [   549,  0.144,    842,  0.138],
    "c3.xlarge"   : [  1097,  0.288,   1685,  0.275],
    "c3.2xlarge"  : [  2194,  0.575,   3370,  0.551],
    "c3.4xlarge"  : [  4388,  1.151,   6740,  1.101],
    "c3.8xlarge"  : [  8777,  2.302,  13480,  2.202],
    "c1.medium"   : [   530,  0.139,    814,  0.133],
    "c1.xlarge"   : [  2120,  0.556,   3256,  0.532],
    "cc2.8xlarge" : [  6261,  1.213,   9436,  1.217],
    "m2.xlarge"   : [  1079,  0.248,   1628,  0.215],
    "m2.2xlarge"  : [  2158,  0.495,   3256,   0.43],
    "m2.4xlarge"  : [  4316,   0.99,   6512,   0.86],
    "cr1.8xlarge" : [  8633,  1.218,  13009,  1.223],
    "hs1.8xlarge" : [ 13463,  1.714,  20287,  1.722],
    "hi1.4xlarge" : [  8633,  1.367,  13009,  1.372],
    "t1.micro"    : [    65,  0.019,    105,  0.019],
  },
  "ap-southeast-2" : {
    "m3.xlarge"   : [  1459,  0.323,   2244,  0.286],
    "m3.2xlarge"  : [  2917,  0.646,   4488,   0.57],
    "m1.small"    : [   195,  0.045,    300,   0.04],
    "m1.medium"   : [   390,   0.09,    600,   0.08],
    "m1.large"    : [   780,   0.18,   1200,   0.16],
    "m1.xlarge"   : [  1560,   0.36,   2400,   0.32],
    "c3.large"    : [   518,  0.132,    802,  0.124],
    "c3.xlarge"   : [  1035,  0.264,   1604,  0.248],
    "c3.2xlarge"  : [  2070,  0.528,   3209,  0.497],
    "c3.4xlarge"  : [  4140,  1.056,   6417,  0.994],
    "c3.8xlarge"  : [  8280,  2.111,  12834,  1.987],
    "c1.medium"   : [   500,  0.128,    775,   0.12],
    "c1.xlarge"   : [  2000,   0.51,   3100,   0.48],
    "m2.xlarge"   : [  1030,  0.228,   1550,  0.198],
    "m2.2xlarge"  : [  2060,  0.455,   3100,  0.396],
    "m2.4xlarge"  : [  4120,   0.91,   6200,  0.792],
    "hs1.8xlarge" : [ 16540,  1.259,  30629,  1.166],
    "t1.micro"    : [    62,  0.009,    100,  0.009],
  },
  "sa-east-1" : {
    "m3.xlarge"   : [  2790,  0.342,   4292,  0.293],
    "m3.2xlarge"  : [  5579,  0.684,   8583,  0.587],
    "m1.small"    : [372.94,   0.05,    574,  0.041],
    "m1.medium"   : [   746,  0.095,   1148,  0.083],
    "m1.large"    : [  1492,   0.19,   2295,  0.164],
    "m1.xlarge"   : [  2984,   0.38,   4590,  0.328],
    "c1.medium"   : [   747,   0.12,   1148,  0.113],
    "c1.xlarge"   : [  2984,   0.48,   4590,  0.452],
    "m2.xlarge"   : [  2160,  0.223,   3260,  0.193],
    "m2.2xlarge"  : [  4320,  0.445,   6521,  0.386],
    "m2.4xlarge"  : [  8640,   0.89,  13041,  0.772],
    "t1.micro"    : [    84,  0.013,    135,  0.013],
  },
};

function generateCSVForObject(obj) {
    var pairs = new Array();
    for (k in obj) {
        if (obj.hasOwnProperty(k)) {
            var v = obj[k];
            if (v != null) {
                if (typeof v === 'object') {
                    pairs.push(generateCSVForObject(v));
                } else if (typeof v != 'function') {
                    pairs.push(v);
                }
            }
        }
    }
    return pairs.join(',');
}

function sortView(document, cols, list) {
    // cols is a list of column ids. The portion after the first. must
    // be the name of the corresponding attribute of the objects in +list.
    var sortField = null;
    var ascending = null;
    for (var i in cols) {
        var col = cols[i];
        if (document.getElementById(col) != null) {
            log("col=["+col+"]");
            var direction = document.getElementById(col).getAttribute("sortDirection");
        } else {
            log("col=["+col+"] (skipped)");
        }

        if (direction && direction != "natural") {
            ascending = (direction == "ascending");
            sortField = col.slice(col.indexOf(".")+1);
            log("sortField=[" + sortField + "]");
            break;
        }
    }

    if (sortField != null) {
        var sortFunc = function(a,b) {
            var aVal = eval("a." + sortField) || "";
            var bVal = eval("b." + sortField) || "";
            var aF = parseFloat(aVal);
            // Check that:
            // 1. aF is a number
            // 2. aVal isn't a string that starts with a number
            //    eg. 123ABCD
            if (!isNaN(aF) &&
                aF.toString() == aVal) {
                // These are numbers
                aVal = aF;
                bVal = parseFloat(bVal);
            } else {
                aVal = aVal.toString().toLowerCase();
                bVal = bVal.toString().toLowerCase();
            }
            if (aVal < bVal) return ascending?-1:1;
            if (aVal > bVal) return ascending?1:-1;
            return 0;
        };
        list.sort(sortFunc);
    }
}

function cycleHeader(col, document, columnIdList, list) {
    var csd = col.element.getAttribute("sortDirection");
    var sortDirection = (csd == "ascending" || csd == "natural") ? "descending" : "ascending";
    for (var i = 0; i < col.columns.count; i++) {
        col.columns.getColumnAt(i).element.setAttribute("sortDirection", "natural");
    }
    col.element.setAttribute("sortDirection", sortDirection);
    sortView(document, columnIdList, list);
}

function getNodeValueByName(parent, nodeName) {
    var node = parent.getElementsByTagName(nodeName)[0];
    if (node == null) return "";
    return node.firstChild ? node.firstChild.nodeValue : "";
}

function methodPointer(obj, method) {
     var wrap = function(x) { obj.method(x); }
}

function trim(s) {
    return s.replace(/^\s*/, '').replace(/\s*$/, '');
}

function getProperty(name, defValue) {
    try {
        return document.getElementById('ec2ui.properties.bundle').getString(name);
    } catch(e) {
        return defValue;
    }
}

function log(msg) {
    this.consoleService = null;
    try {
        if (ec2ui_prefs.isDebugEnabled()) {
            if (this.consoleService == null) {
                this.consoleService = Components.classes["@mozilla.org/consoleservice;1"].getService(Components.interfaces.nsIConsoleService);
            }
            this.consoleService.logStringMessage("[ec2ui] " + msg);
        }
    } catch (e) {
    }
}

function copyToClipboard(text) {
    this.str = null;
    this.trans = null;
    this.clip = null;

    if (this.str == null) {
        this.str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);
    }
    this.str.data = text;

    if (this.trans == null) {
        this.trans = Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);
    }
    this.trans.addDataFlavor("text/unicode");
    this.trans.setTransferData("text/unicode", this.str, text.length * 2);

    var clipid = Components.interfaces.nsIClipboard;

    if (this.clip == null) {
        this.clip = Components.classes["@mozilla.org/widget/clipboard;1"].getService(clipid);
    }
    clip.setData(this.trans,null,clipid.kGlobalClipboard);
}

// With thanks to http://delete.me.uk/2005/03/iso8601.html
Date.prototype.setISO8601 = function (string) {
   var regexp = "([0-9]{4})(-([0-9]{2})(-([0-9]{2})" + "(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?" + "(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";
   var d = string.match(new RegExp(regexp));
   if (d == null) {
      this.setTime(null);
      return;
   }
   var offset = 0; var date = new Date(d[1], 0, 1);
   if (d[3]) {
      date.setMonth(d[3] - 1);
   }
   if (d[5]) {
      date.setDate(d[5]);
   }
   if (d[7]) {
      date.setHours(d[7]);
   }
   if (d[8]) {
      date.setMinutes(d[8]);
   }
   if (d[10]) {
      date.setSeconds(d[10]);
   }
   if (d[12]) {
      date.setMilliseconds(Number("0." + d[12]) * 1000);
   }
   if (d[14]) {
      offset = (Number(d[16]) * 60) + Number(d[17]);
      offset *= ((d[15] == '-') ? 1 : -1);
   }
   offset -= date.getTimezoneOffset();
   var time = (Number(date) + (offset * 60 * 1000));
   this.setTime(Number(time));
}

// Poor-man's tokeniser.
// Splits a string into tokens on spaces.
// Spaces are ignored for strings wrapped in " or '.
// To insert a " or ', wrap inside ' or ", respectively.
//   "a b" c'd e'f => [a b,cd ef]
//   "c'd" => [c'd]
function tokenise(s) {
    var tokens = [];
    var sep = ' ';
    var tok = '';

    for(var i = 0; i < s.length; i++) {
        var ch = s[i];
        if (ch == sep) {
            if (sep == ' ') {
                if (tok.length > 0) { tokens.push(tok); }
                tok = '';
            } else {
                sep = ' ';
            }
        } else if (sep == ' ' && (ch == '"' || ch == "'")) {
            sep = ch;
        } else {
            tok += ch;
        }
    }

    if (tok.length > 0) { tokens.push(tok); }

    return tokens;
}

Date.prototype.toISO8601String = function (format, offset) {
    /* accepted values for the format [1-6]:
       1 Year:
       YYYY (eg 1997)
       2 Year and month:
       YYYY-MM (eg 1997-07)
       3 Complete date:
       YYYY-MM-DD (eg 1997-07-16)
       4 Complete date plus hours and minutes:
       YYYY-MM-DDThh:mmTZD (eg 1997-07-16T19:20+01:00)
       5 Complete date plus hours, minutes and seconds:
       YYYY-MM-DDThh:mm:ssTZD (eg 1997-07-16T19:20:30+01:00)
       6 Complete date plus hours, minutes, seconds and a decimal
       fraction of a second
       YYYY-MM-DDThh:mm:ss.sTZD (eg 1997-07-16T19:20:30.45+01:00)
     */
    if (!format) { var format = 6; }
    if (!offset) {
        var offset = 'Z';
        var date = this;
    } else {
        var d = offset.match(/([-+])([0-9]{2}):([0-9]{2})/);
        var offsetnum = (Number(d[2]) * 60) + Number(d[3]);
        offsetnum *= ((d[1] == '-') ? -1 : 1);
        var date = new Date(Number(Number(this) + (offsetnum * 60000)));
    }

    var zeropad = function (num) { return ((num < 10) ? '0' : '') + num; }

    var str = "";
    str += date.getUTCFullYear();
    if (format > 1) { str += "-" + zeropad(date.getUTCMonth() + 1); }
    if (format > 2) { str += "-" + zeropad(date.getUTCDate()); }
    if (format > 3) {
        str += "T" + zeropad(date.getUTCHours()) +
            ":" + zeropad(date.getUTCMinutes());
    }
    if (format > 5) {
        var secs = Number(date.getUTCSeconds() + "." +
            ((date.getUTCMilliseconds() < 100) ? '0' : '') +
            zeropad(date.getUTCMilliseconds()));
        str += ":" + zeropad(secs);
    } else if (format > 4) { str += ":" + zeropad(date.getUTCSeconds()); }

    if (format > 3) { str += offset; }
    return str;
}

function generateS3Policy(bucket, prefix, validity) {
    var EC2_CANNED_ACL = "ec2-bundle-read";
    var validHours = 24;
    var expiry = new Date();
    if (validity != null) {
        validHours = validity;
    }
    expiry.setTime(expiry.getTime() + validHours * 60 * 60 * 1000);

    var expiryStr = expiry.toISO8601String(5);

    return (policyStr = '{' +
        '"expiration": "' + expiryStr + '",' +
        '"conditions": [' +
        '{"bucket": "' + bucket + '"},' +
        '{"acl": "' + EC2_CANNED_ACL + '"},' +
        '["starts-with", "$key", "' + prefix + '"]' +
        ']}');
}

function toByteArray(str) {
    var bArray = new Array();

    for (var i = 0; i < str.length; ++i) {
        bArray.push(str.charCodeAt(i));
    }

    return bArray;
}

function byteArrayToString(arr) {
    return eval("String.fromCharCode(" + arr.join(",") + ")");
}

function sleep(msecs) {
    var start = new Date().getTime();

    while (true) {
        if ((new Date().getTime() - start) > msecs) {
            break;
        }
    }
}

function tagResource(res, session, attr) {
    if (!attr) attr = "id";
    var tag = prompt("Tag " + res[attr] + " with? (To untag, just clear the string)",
                     res.tag || "");
    if (tag == null)
        return;

    res.tag = tag.trim();
    session.setResourceTag(res[attr], res.tag);
}

function __tagPrompt__(tag, allowEmpty) {
    var returnValue = {accepted:false , result:null};

    openDialog('chrome://ec2ui/content/dialog_tag.xul',
        null,
        'chrome,centerscreen,modal,width=400,height=250',
        tag,
        returnValue,
        allowEmpty);

    return returnValue.accepted ? (returnValue.result || '').trim() : null;
}

function tagEC2Resource(res, session, attr) {
    if (!attr) attr = "id";

    var tag = __tagPrompt__(res.tag);

    if (tag == null)
        return;

    tag = tag.trim();
    res.tag = tag;
    __addNameTagToModel__(tag, res);
    session.setResourceTag(res[attr], res.tag);

    __tagging2ec2__([res[attr]], session, tag);
}

function __tagging2ec2__(resIds, session, tagString, disableDeleteTags) {
  var multiIds = new Array();
  var multiTags = new Array();

  try {
        var tags = new Array();
        var emptyTags = new Array();
        tagString += ',';
        var keyValues = (tagString.match(/\s*[^,":]+\s*:\s*("(?:[^"]|"")*"|[^,]*)\s*,\s*/g) || []);

        for (var i = 0; i < keyValues.length; i++) {
            var kv = keyValues[i].split(/\s*:\s*/, 2);
            var key = (kv[0] || "").trim();
            var value = (kv[1] || "").trim();
            value = value.replace(/,\s*$/, '').trim();
            value = value.replace(/^"/, '').replace(/"$/, '').replace(/""/, '"');

            if (key.length != 0 && value.length == 0) {
                emptyTags.push(key);
            }

            if (key.length == 0 || value.length == 0) {
                continue;
            }

            tags.push([key, value]);
        }

        for (var i = 0; i < resIds.length; i++) {
            var resId = resIds[i];

            for (var j = 0; j < tags.length; j++) {
                multiIds.push(resId);
            }

            multiTags = multiTags.concat(tags);
        }

        if (multiIds.length == 0) {
            multiIds = resIds;
        }

        session.controller.describeTags(resIds, function(described) {
            var delResIds = new Array();
            var delKyes = new Array();

            for (var i = 0; i < described.length; i++) {
              delResIds.push(described[i][0]);
              delKyes.push(described[i][1]);
            }

            if (!disableDeleteTags) {
                if (delResIds.length > 0 && delKyes.length > 0) {
                    session.controller.deleteTags(delResIds, delKyes);
                }
            } else if (emptyTags.length > 0 && multiIds.length > 0) {
                session.controller.deleteTags(multiIds, emptyTags);
            }

            if (multiTags.length > 0) {
                session.controller.createTags(multiIds, multiTags);
            }
        });
    } catch (e) {
        alert(e);
    }
}

function __calcLinuxMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcLinuxMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return null; }

  var amount = 0;

  for (var t in types) {
    var n = types[t];
    var rate = (rateSheet[t] || 0);
    amount += (Math.floor(rate * 1000) * n);
  }

  return amount * 24 * 30 / 1000;
}

function __calcWindowsMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return null; }

  var amount = 0;

  for (var t in types) {
    var n = types[t];
    var rate = (rateSheet[t] || 0);
    amount += (Math.floor(rate * 1000) * n);
  }

  return amount * 24 * 30 / 1000;
}

function __calcLightRILinuxMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcLightRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function __calcLightRIWindowsMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcLightRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function __calcMediumRILinuxMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcMediumRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function __calcMediumRIWindowsMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcMediumRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function __calcHeavyRILinuxMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcHeavyRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function __calcHeavyRIWindowsMonthlyAmount__(types, endpoint) {
  var rateSheet = __calcHeavyRIWindowsMonthlyAmount__rateSheets[endpoint];
  if (!rateSheet) { return [0, 0, 0, 0]; }

  var amounts = [0, 0, 0, 0];

  for (var t in types) {
    var n = types[t];
    var rates = (rateSheet[t] || [0, 0, 0, 0]);
    amounts[0] += (Math.floor(rates[0] * 1000) * n)
    amounts[1] += (Math.floor(rates[1] * 1000) * n)
    amounts[2] += (Math.floor(rates[2] * 1000) * n)
    amounts[3] += (Math.floor(rates[3] * 1000) * n)
  }

  return [amounts[0] / 1000, amounts[1] * 24 * 30 / 1000, amounts[2] / 1000, amounts[3] * 24 * 30 / 1000];
}

function parseHeaders(headers) {
    var headerArr = new Array();
    var arr = headers.split("\n");
    for(var i = 0; i < arr.length; i++){
        var header = arr[i];
        var parts = header.split(":");
        headerArr[parts[0]] = parts[1];
    }
    return headerArr;
}

function isWindows(platform) {
    return platform.match(ec2ui_utils.winRegex);
}

function isEbsRootDeviceType(rootDeviceType) {
    return (rootDeviceType == 'ebs');
}

function isVpc(instance) {
    return !!instance.vpcId;
}

function secondsToDays(secs) {
    var dur = parseInt(secs);
    // duration is provided in seconds. Let's convert it to years
    dur = Math.floor(dur/(60*60*24));
    return dur.toString();
}

function secondsToYears(secs) {
    var dur = parseInt(secondsToDays(secs));
    // duration is provided in days. Let's convert it to years
    dur = dur/(365);
    return dur.toString();
}

function __addNameTagToModel__(tag, model) {
    var kvs = tag.split(/\s*,\s*/);

    if (!model instanceof AMI) {
        model.name = '';
    }

    model.comment = '';

    for (var i = 0; i < kvs.length; i++) {
        var kv = kvs[i].split(/\s*:\s*/, 2);
        var key = kv[0].trim();
        var value = (kv[1] || "").trim();

        if (key == "Name") {
            value = (value || '').trim();

            if (value) {
                model.name = value;
            }
        }

        if (key == "Comment") {
            model.comment = value;
        }
    }
}

function __addCommentTagToModel__(tag, model) {
    var kvs = tag.split(/\s*,\s*/);

    for (var i = 0; i < kvs.length; i++) {
        var kv = kvs[i].split(/\s*:\s*/, 2);
        var key = kv[0].trim();
        var value = (kv[1] || "").trim();

        if (key == "Comment") {
            model.comment = value;
            return;
        }
    }
}

function __tagToName__(tag) {
    var kvs = (tag || '').split(/\s*,\s*/);

    for (var i = 0; i < kvs.length; i++) {
        var kv = kvs[i].split(/\s*:\s*/, 2);
        var key = kv[0].trim();
        var value = (kv[1] || "").trim();

        if (key == "Name") {
            return value;
        }
    }

    return null;
}

function __concatTags__(a, b) {
    if (!a) { a = ""; }
    if (!b) { b = ""; }

    function putTagsToHash(tagString, hash) {
        tagString += ',';
        var kvs = (tagString.match(/\s*[^,":]+\s*:\s*("(?:[^"]|"")*"|[^,]*)\s*,\s*/g) || []);

        for (var i = 0; i < kvs.length; i++) {
            var kv = kvs[i].split(/\s*:\s*/, 2);
            var key = kv[0].trim();
            var value = (kv[1] || "").trim();
            value = value.replace(/,\s*$/, '').trim();
            value = value.replace(/^"/, '').replace(/"$/, '').replace(/""/, '"');

            if (key && value) {
                if (/[,"]/.test(value)) {
                    value = value.replace(/"/g, '""');
                    value = '"' + value + '"';
                }

                hash[key] = value;
            } else if (key && !value) {
                hash[key] = null;
            }
        }
    }

    var tags = new Object();
    var tagArray = new Array();

    putTagsToHash(a, tags);
    putTagsToHash(b, tags);

    for (var i in tags) {
        if (tags[i]) {
            tagArray.push(i + ":" + tags[i]);
        }
    }

    return tagArray.join(", ");
}

var protPortMap = {
    ssh : "22",
    rdp : "3389",
    http: "80",
    https: "443",
    pop3 : "110",
    imap : "143",
    spop : "995",
    simap : "993",
    dns : "53",
    mysql : "3306",
    mssql : "1433",
    smtp : "25",
    smtps : "465",
    ldap : "389",
};

var fileCopyStatus = {
    FAILURE : 0,
    SUCCESS : 1,
    FILE_EXISTS : 2,
};

var regExs = {
    "ami" : new RegExp("^ami-[0-9a-f]{8}$"),
    "aki" : new RegExp("^aki-[0-9a-f]{8}$"),
    "ari" : new RegExp("^ari-[0-9a-f]{8}$"),
    "all" : new RegExp("^a[kmr]i-[0-9a-f]{8}$")
};

// ec2ui_utils is akin to a static class
var ec2ui_utils = {

    tagMultipleResources : function(list, session, attr) {
        if (!list || !session) return;

        if (!attr) {
            attr = "id";
        }

        var tag = __tagPrompt__(list[0].tag);

        if (tag == null) return;

        var res = null;
        tag = tag.trim();
        for (var i = 0; i < list.length; ++i) {
            res = list[i];
            res.tag = tag;
            session.setResourceTag(res[attr], res.tag);
        }
    },

    tagMultipleEC2Resources : function(list, session, attr) {
        if (!list || !session) return;

        if (!attr) {
            attr = "id";
        }

        var tag = __tagPrompt__(list[0].tag, true);

        if (!tag) return;

        var res = null;
        tag = tag.trim();
        var resIds = new Array();
        for (var i = 0; i < list.length; ++i) {
            res = list[i];
            res.tag = __concatTags__(res.tag, tag);
            __addNameTagToModel__(res.tag, res);
            session.setResourceTag(res[attr], res.tag);
            resIds.push(res[attr]);
        }

        __tagging2ec2__(resIds, session, tag, true);
    },

    winRegex : new RegExp(/^Windows/i),
    macRegex : new RegExp(/^Mac/),

    determineRegionFromString : function(str) {
        var region = "US-EAST-1";
        if (!str) {
            return region;
        }

        str = str.toLowerCase();
        // If str starts with:
        // us-east-1: region is US-EAST-1
        // us-west-1: region is US-WEST-1
        // eu-west-1: region is EU-WEST-1
        if (str.indexOf("us-west-1") >= 0) {
            region = "US-WEST-1";
        } else if (str.indexOf("us-west-2") >= 0) {
            region = "US-WEST-2";
        } else if (str.indexOf("eu-west-1") >= 0 || str == "eu") {
            region = "EU-WEST-1";
        } else if (str.indexOf("ap-southeast-1")) {
            region = "AP-SOUTHEAST-1";
        } else if (str.indexOf("ap-southeast-2")) {
            region = "AP-SOUTHEAST-2";
        } else if (str.indexOf("ap-northeast-1")) {
            region = "AP-NORTHEAST-1";
        } else if (str.indexOf("sa-east-1")) {
            region = "SA-EAST-1";
        }

        return region;
    },
    getMessageProperty : function(key, replacements) {
        if ( !this._stringBundle ) {
            const BUNDLE_SVC = Components.classes['@mozilla.org/intl/stringbundle;1'].getService(Components.interfaces.nsIStringBundleService);
            this._stringBundle = BUNDLE_SVC.createBundle("chrome://ec2ui/locale/ec2ui.properties");
        }
        try {
            if ( !replacements )
                return this._stringBundle.GetStringFromName(key);
            else
                return this._stringBundle.formatStringFromName(key, replacements, replacements.length);
        } catch(e) {
            return "";
        }
    },
};
